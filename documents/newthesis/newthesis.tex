\documentclass[11pt,a4paper,oneside]{book}
\usepackage[usenames,dvipsnames,svgnames,table]{xcolor}
\usepackage[a4paper, portrait, margin=1.1in]{geometry}
\usepackage{url}
\usepackage{listings}
\usepackage{graphicx}
\usepackage{fancyhdr}
\usepackage{fancyvrb}
\usepackage{parskip}
\usepackage{chngpage}
\usepackage{lmodern}
\usepackage{caption}
\usepackage{subcaption}
\usepackage{afterpage}
\usepackage{pdflscape}
\usepackage{capt-of}
\usepackage[utf8]{inputenc}
\usepackage[toc,page,header]{appendix}
\usepackage[toc,acronym,ucmark]{glossaries}

% \usepackage[none]{hyphenat} % FIXME REMOVE FOR FINAL DOCUMENT	

\newcommand{\HRule}{\rule{\linewidth}{0.5mm}}
\renewcommand{\familydefault}{\sfdefault}
\renewcommand{\arraystretch}{1.5} % Stretch spacing between table rows

\input{includes/codehighlighting}

% How deep numbering is applied to titles
% \setcounter{secnumdepth}{3}
\setcounter{tocdepth}{1}

% Prepare the word index
% \makeindex

% Prepare header and footer
\pagestyle{fancy}
\fancyhf{}
\rhead{\footnotesize\leftmark}
\lfoot{Towards Reactive Information Systems and their Services}
\rfoot{\thepage}
\renewcommand{\headrulewidth}{0.3pt}
\renewcommand{\footrulewidth}{0.3pt}


% Apply page style also to chapter's first page
\makeatletter
\renewcommand\chapter{\if@openright\cleardoublepage\else\clearpage\fi
  \thispagestyle{fancy}%
  \global\@topnum\z@
  \@afterindentfalse
  \secdef\@chapter\@schapter}
\makeatother

\setlength{\parindent}{15pt}
% \setlength{\parskip}{.5\baselineskip}%

\renewcommand*\glossarypreamble{\thispagestyle{fancy}}
\makeglossaries
\input{includes/glossary}

\begin{document}

\frontmatter

	\input{includes/titlepage}
	\input{includes/abstract}
	\input{includes/acknowledgment}
	\tableofcontents
% TODO lists in the TOC?
% Lists
	\listoffigures
	\listoftables
	\lstlistoflistings
	\printglossaries


\mainmatter
	\input{includes/1introduction}
	\input{includes/2related}
	\input{includes/3concept}
	\input{includes/4applicability}
	\input{includes/5prototype}
	\input{includes/6discussion}

% Bibliography
	\addcontentsline{toc}{chapter}{Bibliography}
	\bibliography{thesisbib}
	\bibliographystyle{thesisbst}

% Appendix
	\begin{appendices}

% Index
	% \addcontentsline{toc}{chapter}{Index}
	% \printindex

	% Turn off listing of tables and figures since from here on they will be in the appendix
	\captionsetup[figure]{list=no}
	% \captionsetup[table]{list=no}

	\addtocontents{toc}{\setcounter{tocdepth}{-1}}
	\input{includes/appendixa}
	\input{includes/appendixb}
	% \input{includes/appendixc}
	\end{appendices}
	\addtocontents{toc}{\setcounter{tocdepth}{1}}

\backmatter
	\include{includes/scientificintegrity}

\end{document}

% FIXME  TODO  FIXME
% TODO  FIXME   TODO
% Before printing original:
% - check if all figures have proper name
% - check tables before toc
% - Remove linebreak preventing statement
% - Check Glossary for completeness
% - Check Abstract
% - Remove all TODO's and FIXME's
% - Add code to appendix
% - 
% - 
% - 
% - 