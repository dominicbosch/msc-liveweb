\documentclass[11pt,a4paper,oneside]{book}
\usepackage[a4paper, portrait, margin=1.1in]{geometry}
% \documentclass[11pt,a4paper,twoside,openright]{book}
\usepackage{url}
\usepackage{makeidx}
\usepackage{listings}
\usepackage{graphicx}
\usepackage{fancyhdr}
\usepackage{fancyvrb}
\usepackage{parskip}
\usepackage{chngpage}
\usepackage{lmodern}
\usepackage{caption}
\usepackage{subcaption}
\usepackage[utf8]{inputenc}
% \usepackage{pdfpages}
% \usepackage[nottoc]{tocbibind}
\usepackage[toc,page,header]{appendix}
\usepackage[usenames,dvipsnames]{color}

\newcommand{\HRule}{\rule{\linewidth}{0.5mm}}
\renewcommand{\familydefault}{\sfdefault}

\input{includes/codehighlighting}

% How deep numbering is applied to titles
% \setcounter{secnumdepth}{3}
\setcounter{tocdepth}{1}

% Prepare the word index
\makeindex

% Prepare header and footer
\pagestyle{fancy}
\fancyhf{}
\rhead{\footnotesize\leftmark}
\lfoot{Towards the Reactive Web}
\rfoot{\thepage}
\renewcommand{\headrulewidth}{0.3pt}
\renewcommand{\footrulewidth}{0.3pt}

% Apply page style also to chapter's first page
\makeatletter
\renewcommand\chapter{\if@openright\cleardoublepage\else\clearpage\fi
  \thispagestyle{fancy}%
  \global\@topnum\z@
  \@afterindentfalse
  \secdef\@chapter\@schapter}
\makeatother

\setlength{\parindent}{15pt}
% \setlength{\parskip}{.5\baselineskip}%

\begin{document}

\frontmatter
	\input{includes/titlepage}
	% \input{includes/acknowledgment}
	\tableofcontents
	\listoffigures
	% FIXME CHECK WHETHER TABLES OR LISTINGS ARE IN THE DOCUMENT
	% \listoftables
	% \lstlistoflistings

\mainmatter
	\input{includes/1introduction}
	\input{includes/2related}
	\input{includes/3concept}
	\input{includes/4applicability}
	\input{includes/5prototype}
	\input{includes/6discussion}

% Bibliography
	\addcontentsline{toc}{chapter}{Bibliography}
	\bibliography{thesisbib}
	\bibliographystyle{thesisbst}

% Index
	\addcontentsline{toc}{chapter}{Index}
	\printindex

	% Turn off listing of tables and figures since from here on they will be in the appendix
	\captionsetup[figure]{list=no}
	\captionsetup[table]{list=no}

% Appendix
	\begin{appendices}
	\addtocontents{toc}{\setcounter{tocdepth}{-1}}
	\input{includes/appendixa}
	\input{includes/appendixb}
	\input{includes/appendixc}
	
	\end{appendices}

	\addtocontents{toc}{\setcounter{tocdepth}{1}}

\backmatter
	\include{includes/scientificintegrity}
% 	\addtocontents{toc}{\setcounter{tocdepth}{1}}

\end{document}
